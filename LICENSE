some code adapted from github.com/c9s/goprocinfo